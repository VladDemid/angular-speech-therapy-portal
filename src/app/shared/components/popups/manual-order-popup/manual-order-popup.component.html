<div class="fixed-overlay ">
   <div class="close-popup" (click)="popupService.toggleManualOrderPopup()"></div>
   <div class="popup">

      
      <div class="popup-container">
         <h2>Записать клиента к себе</h2>
         <div class="appointment-deatails">
            <!-- {{popupService.appointmentDetails | json}} -->
            <!-- {{testLesson | json}} -->
            <div class="date">
               <span class="date-of-lesson">Дата занятия: </span>
               {{popupService.manualOrderDetails | json}}
               <!-- {{popupService.manualOrderDetails.day}} {{popupService.monthsNamesWhomCase[popupService.appointmentDetails.month - 1]}} {{popupService.appointmentDetails.year}} - {{popupService.appointmentDetails.hour}} часов (Минск) -->
            </div>
            <form (ngSubmit)="makeManualAppointment()" class="new-form" [formGroup]="manualOrderForm">
               <div class="line">
                  <label>
                     <input name="childName" [ngClass]="{filled: childName.value}" type="text"  formControlName="childName">
                     <span class="title">Имя фамилия ребенка</span>
                     <div class="validation-errors" *ngIf="childName.invalid && (childName.dirty || childName.touched) || requiredErr">
                        <span class="note err" *ngIf="childName.errors?.['required']">*необходимо заполнить</span>
                     </div>
                  </label>
                  <label>
                     <input name="childDate" [ngClass]="{filled: childDate.value}" type="date" formControlName="childDate">
                     <span class="title">дата рождения ребенка</span>
                     <div class="validation-errors" *ngIf="childDate.invalid && (childDate.dirty || childDate.touched) || requiredErr">
                        <span class="note err" *ngIf="childDate.errors?.['required']">*необходимо заполнить</span>
                     </div>
                  </label>
               </div>
               <div class="line">
                  <label>
                     <input name="parentName" [ngClass]="{filled: parentName.value}" type="text" value="" formControlName="parentName">
                     <span class="title">Имя фамилия родителя*</span>
                     <span class="note">*или законного представителя</span>
                     <div class="validation-errors" *ngIf="parentName.invalid && (parentName.dirty || parentName.touched) || requiredErr">
                        <span class="note err" *ngIf="parentName.errors?.['required']">*необходимо заполнить</span>
                     </div>
                  </label>
                  <label>
                     <input name="parentEmail" [ngClass]="{filled: parentEmail.value}" type="text" formControlName="parentEmail">
                     <span class="title">@email</span>
                     <div class="validation-errors" *ngIf="parentEmail.invalid && (parentEmail.dirty || parentEmail.touched) || requiredErr">
                        <span class="note err" *ngIf="parentEmail.errors?.['required']">*необходимо заполнить</span>
                     </div>
                  </label>
               </div>
               <div class="line">
                  <label>
                     <input name="phone" [ngClass]="{filled: phone.value}" type="text" formControlName="phone">
                     <span class="title">телефон</span>
                     <div class="validation-errors" *ngIf="phone.invalid && (phone.dirty || phone.touched) || requiredErr">
                        <span class="note err" *ngIf="phone.errors?.['required']">*необходимо заполнить</span>
                        <span class="note err" *ngIf="phone.errors?.['minlength']">*6+ символов</span>
                     </div>
                  </label>
               </div>
               <div class="line">
                  <label>
                     <textarea name="comment" [ngClass]="{filled: comment.value}" formControlName="comment" placeholder=""></textarea>
                     <span class="title">Комментарий</span>
                     <div class="validation-errors" *ngIf="comment.invalid && (comment.dirty || comment.touched)">
                        <span class="note err" *ngIf="comment.errors?.['required']">*необходимо заполнить</span>
                     </div>
                  </label>
               </div>
               <!-- <label><span  class="narrow">Имя пациента</span><input [(ngModel)]="patientName" name="patientName"  type="text" ></label>
               <label><span  class="narrow">Email пациента</span><input [(ngModel)]="patientEmail" name="patientEmail"  type="text"></label>
               <label><span  class="narrow">Тема занятия</span><input [(ngModel)]="problem" name="problem" type="text"></label> -->
               <div class="rules">
                  <div class="terms-of-use">
                     <label>
                        <input name="termsOfUse"  type="checkbox" [(ngModel)]="termsOfUseAccepted" >
                        <span>Принимаю условия <a class="termsOfUse" target="_blank" routerLink="/terms-of-use">пользовательского соглашения</a></span>
                     </label>
                     <!-- <div class="validation-errors" *ngIf="clientRegistrationForm.get('termsOfUse').invalid && (clientRegistrationForm.get('termsOfUse').touched || showRulesRequired)">
                        <small class="error" *ngIf="clientRegistrationForm.get('termsOfUse').errors.required">
                              Необходимо подтвердить согласие с <span>правилами</span> сервиса</small>
                     </div> -->
                  </div>
               </div>
               <div class="updating-status">
                  <div class="success" *ngIf="successStatus">{{successStatus}}</div>
                  <div class="error" *ngIf="errorStatus">{{errorStatus}}</div>
               </div>
               <button class="login" [ngClass]="{updating2: isUpdating}"  type="submit" [disabled]="isUpdating"><span data-text="записаться">создать занятие</span></button>
               <div class="describing">
                  *Клиенту будет отправлено письмо для оплаты на почту
               </div>
            </form>
         </div>
      </div>

   </div>
</div>